"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function activate_buy_bar(){var e=$(".bc-product-single__meta > div > [data-js='bc-product-pricing']").clone();$("#buy-bar").find(".price").html(e)}function imageZoom(e,t){var a,i,n,s,o;function r(e){var t,r,c;e.preventDefault(),r=(t=function(e){var t,i=0,n=0;return e=e||window.event,t=a.getBoundingClientRect(),i=e.pageX-t.left,n=e.pageY-t.top,{x:i-=window.pageXOffset,y:n-=window.pageYOffset}}(e)).x-i.offsetWidth/2,c=t.y-i.offsetHeight/2,r>a.width-i.offsetWidth&&(r=a.width-i.offsetWidth),r<0&&(r=0),c>a.height-i.offsetHeight&&(c=a.height-i.offsetHeight),c<0&&(c=0),i.style.left=r+"px",i.style.top=c+"px",n.style.backgroundPosition="-"+r*s+"px -"+c*o+"px",r=t.x+n.offsetWidth/2+20,c=t.y+n.offsetHeight/4,n.style.left=r+"px",n.style.top=c+"px"}a=document.getElementById(e),n=document.getElementById(t),(i=document.createElement("DIV")).setAttribute("class","img-zoom-lens"),a.parentElement.insertBefore(i,a),s=n.offsetWidth/i.offsetWidth,o=n.offsetHeight/i.offsetHeight,n.style.backgroundImage="url('"+a.dataset.zoom+"')",n.style.backgroundSize=a.width*s+"px "+a.height*o+"px",i.addEventListener("mousemove",r),a.addEventListener("mousemove",r),i.addEventListener("touchmove",r),a.addEventListener("touchmove",r)}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)"),a="";return t&&(a=t[2]),a}var a;""!==t("bigcommerce_cart_id")?e.ajax({url:bigcommerce_config.cart.api_url+"/"+t("bigcommerce_cart_id")+"/",headers:{"Content-Type":"application/json","X-WP-Nonce":bigcommerce_config.cart.ajax_cart_nonce}}).done(function(t){if(t){Object.keys(t.items).length;var a=0;e.each(t.items,function(e,t){a+=t.quantity}),0<a?e("#menu-item-540").addClass("items-in-cart"):e("#menu-item-540").removeClass("items-in-cart"),e("#menu-item-540 a").text(""),e("#menu-item-540").children("a").append("BAG ("+a+")")}}):(e("#menu-item-540").removeClass("items-in-cart"),e("#menu-item-540 a").text("BAG")),a=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(){return this.addEventListener("load",function(){if(this.responseURL.includes("/wp-json/bigcommerce/v1/cart")&&this.response){var t=JSON.parse(this.response),a=e("#menu-item-540"),i=Object.values(t.items),n=0;i.length?(i.map(function(e){n+=e.quantity}),0===n?a.find("a").text("BAG"):a.find("a").text("BAG (".concat(n,")"))):a.find("a").text("BAG")}}),a.apply(this,arguments)};var i,n,s,o=[],r=document,c=window,l=r.documentElement;function d(){if(o.length){var t=0,a=e.map(o,function(e){var t=e.data.selector,a=e.$element;return t?a.find(t):a});for(i=i||function(){var t,a,i={height:c.innerHeight,width:c.innerWidth};return i.height||!(t=r.compatMode)&&e.support.boxModel||(i={height:(a="CSS1Compat"===t?l:r.body).clientHeight,width:a.clientWidth}),i}(),n=n||{top:c.pageYOffset||l.scrollTop||r.body.scrollTop,left:c.pageXOffset||l.scrollLeft||r.body.scrollLeft};t<o.length;t++)if(e.contains(l,a[t][0])){var s=e(a[t]),d=s[0].offsetHeight,u=s[0].offsetWidth,f=s.offset(),h=s.data("inview");if(!n||!i)return;f.top+d>n.top&&f.top<n.top+i.height&&f.left+u>n.left&&f.left<n.left+i.width?h||s.data("inview",!0).trigger("inview",[!0]):h&&s.data("inview",!1).trigger("inview",[!1])}}}e.event.special.inview={add:function(t){o.push({data:t,$element:e(this),element:this}),!s&&o.length&&(s=setInterval(d,250))},remove:function(e){for(var t=0;t<o.length;t++){var a=o[t];if(a.element===this&&a.data.guid===e.guid){o.splice(t,1);break}}o.length||(clearInterval(s),s=null)}},e(c).on("scroll resize scrollstop",function(){i=n=null}),!l.addEventListener&&l.attachEvent&&l.attachEvent("onfocusin",function(){n=null})}),window.bigcommerce_i18n.cart.ajax_add_to_cart_success="Added to bag",function(e){var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;function a(){if(e(window).width()<=850){var t=e(".bc-product-archive__refinery .bc-form");t.hasClass("active")?(e("body").removeClass("fadeout"),t.removeClass("active")):(e("body").addClass("fadeout"),t.addClass("active"))}}function i(e){""!==e.val()?e.addClass("dirty"):e.removeClass("dirty")}if(e.fn.attrchange=function(e){if(t){var a={subtree:!1,attributes:!0},i=new t(function(t){t.forEach(function(t){e.call(t.target,t.attributeName)})});return this.each(function(){i.observe(this,a)})}},e(".btn.secondary").each(function(){e(this).data("btn-label",e(this).text())}),e(window).scroll(function(){var t=e(this).scrollTop(),a=e("header");if(e("body").hasClass("single-bigcommerce_product")){var i=e("#buy-bar");i.offset().top<=t?a.hasClass("hide")||(activate_buy_bar(),a.addClass("hide"),i.addClass("active")):(a.removeClass("hide"),i.removeClass("active"))}30<t?e("header #main-navigation").addClass("scrolling"):e("header #main-navigation").removeClass("scrolling")}),e("#buy-bar").on("click","#action-cart",function(){e(".bc-product-single__meta .bc-btn--add_to_cart").trigger("click");var t=e(this);t.text("Adding...").css({opacity:.5});var a=setInterval(function(){e(".bc-product-single__meta .bc-btn--add_to_cart").hasClass("bc-ajax-cart-processing")||(clearInterval(a),t.text("Add to cart").removeAttr("style"))},100)}),e("#select-amount").on("change",function(t){e("#bc-gift-purchase-amount").val(parseInt(e(t.currentTarget).val()))}),e("header").removeClass("no-js-menu").addClass("js-menu"),e("#menu-header > li").mouseenter(function(){if(768<=e(window).outerWidth()){var t=e(this).index();e("#subnav-backing div").removeClass("active"),e("#search-bar").removeClass("active"),e("#subnav-backing div[data-menu="+t+"]").addClass("active"),e("body").addClass("partial-fadeout")}}),e("#menu-header-right-menu .search").mouseenter(function(){768<=e(window).outerWidth()&&(e("body").addClass("partial-fadeout"),e("#subnav-backing div").removeClass("active"),e("#search-bar").addClass("active"))}).click(function(t){e(window).outerWidth()<=767&&(e(".mobile-handle").removeClass("active"),e(".menu-container").removeClass("active"),e("#search-bar").hasClass("active")?(e("#search-bar").removeClass("active"),e("#subnav-backing div").removeClass("active"),e("body").removeClass("partial-fadeout")):(e("body").addClass("partial-fadeout"),e("#subnav-backing div").removeClass("active"),e("#search-bar").addClass("active")))}),e("header").mouseleave(function(){e("#subnav-backing div").removeClass("active"),e("#search-bar").removeClass("active"),e("body").removeClass("partial-fadeout")}),e("header .mobile-handle").click(function(){e(this).toggleClass("active").next(".menu-container").toggleClass("active")}),e(".menu-item-has-children > a").click(function(t){e(window).outerWidth()<=767&&(e(this).toggleClass("active"),console.log("asdd"))}),e(".menu-item-has-children > a").append(e('<div class="arrow-span"></div>',!0)),e(".menu-item-has-children a .arrow-span").click(function(t){t.preventDefault();var a=e(this).parents().eq(1).find(".sub-menu").first();a.hasClass("active")?(a.addClass("no-active"),a.removeClass("active")):(a.addClass("active"),a.removeClass("no-active"))}),e("html").on("click","[data-js='bc-product-archive__mobile-nav'], body.fadeout",function(t){(e(t.target).hasClass("fadeout")||e(t.currentTarget).hasClass("bc-product-archive__mobile-nav"))&&a()}),e(".bc-product-archive__refinery .bc-form").click(function(t){e(t.target).hasClass("bc-form")&&a()}),e(".bc-product-archive__refinery .bc-product-archive__select-label").click(function(){e(this).parent().toggleClass("active")}),e("#bc-single-product__details h4").click(function(){var t=e(this).parent();t.hasClass("active")?t.removeClass("active"):t.addClass("active")}),e(".bc-product-form__quantity-input-control.plus").click(function(){var t=e(this).parent().find("input"),a=t.val();a++,t.val(a)}),e(".bc-product-form__quantity-input-control.sub").click(function(){var t=e(this).parent().find("input"),a=t.val();1<a&&(a--,t.val(a))}),e("body").on("mouseenter",".bc-product-gallery--has-carousel .swiper-slide-active",function(){e("#zoomContainer, .img-zoom-lens").remove(),e(this).children("img").attr("id","zoomSource"),e(".bc-product__gallery").append("<div id='zoomContainer'></div>"),imageZoom("zoomSource","zoomContainer")}).on("mouseleave",".bc-product-gallery--has-carousel .swiper-slide-active",function(){e("#zoomContainer, .img-zoom-lens").remove(),e("#zoomSource").removeAttr("id")}),e("body").on("keyup",".placeholder-control",function(){i(e(this))}),e(".placeholder-control").each(function(){i(e(this))}),e("img.scaler").each(function(){var t=e(this),a=t.data("src")?t.data("src"):t.attr("src"),i=t.offset(),n={};e("<img />").attr("src",a).on("load",function(){n.width=this.width,n.height=this.height,t.removeClass("lazyload"),t.parent().css({display:"block"}),t.wrap("<div class='scaler-container' />"),t.parent().append("<img src='"+a+"' class='scaler-image' />"),t.attr("src","data:image/svg+xml;charset=utf-8,%3Csvg xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg' viewBox%3D'0 0 200 150'%2F%3E").css({width:n.width+"px",height:n.height+"px"})}),e(window).scroll(function(){var a=e(this).scrollTop(),n=e(this).height(),s=a+n,o=(t.width(),t.height()),r=i.top+o/2;if(r<=s&&a<=r){var c=(a-(r-n))/n,l=1.2+(1-1.2)*c,d=45+5*c;t.next().css({transform:"translate(-"+d+"%,-"+d+"%) scale("+l+")"})}})}),e("[data-js='md-entrance']").each(function(){var t=e(this),a=t.data("dir")?t.data("dir"):"right";if(t.is("img")){var i=e(this),n=i.data("src")?i.data("src"):i.attr("src"),s=(i.offset(),{});e("<img />").attr("src",n).on("load",function(){s.width=this.width,s.height=this.height,i.removeClass("lazyload"),i.parent().css({display:"block"}),i.wrap("<div class='scaler-container entrance "+a+"' />"),i.parent().append("<img src='"+n+"' class='scaler-image' />").parent().append("<span class='anchor'></span>"),i.attr("src","data:image/svg+xml;charset=utf-8,%3Csvg xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg' viewBox%3D'0 0 200 150'%2F%3E").css({width:s.width+"px",height:s.height+"px"}),(t=i.parent().parent().children(".anchor")).on("inview",function(e,a){var i=t.hasClass("entrance")?t:t.parent().children(".entrance");a?i.addClass("active"):i.removeClass("active")})})}else t.on("inview",function(e,a){var i=t.hasClass("entrance")?t:t.parents(".entrance");a?i.addClass("active"):i.removeClass("active")})}),e("img.fader").each(function(){e(this).on("inview",function(t,a){var i=e(this),n=i.data("delay")?i.data("delay"):0,s=i.data("speed")?i.data("speed"):600;a?setTimeout(function(){i.animate({opacity:1,position:"relative",top:"0px"},s)},n):i.css({opacity:0,position:"relative",top:"30px"})})}),e("[data-js='md-fadein']").each(function(){var t=e(this);t.addClass("initilised"),t.on("inview",function(e,a){a?t.addClass("inview"):t.removeClass("inview")})}),e("form.bc-account-form--register").submit(function(t){if(e("#bc-account-register-newsletter").is(":checked")){var a={EMAIL:e("#bc-account-register-email").val(),b_eadd0a8ae6715a55dd535c040_16811bc713:""};e.ajax({type:"POST",url:"https://oilgarden.us13.list-manage.com/subscribe/post-json?u=eadd0a8ae6715a55dd535c040&amp;id=16811bc713&c=?",data:a,cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){}})}}),e("#sf-subscribe-form").submit(function(t){t.preventDefault();var a=e(this),i={action:"submitsf",fields:{email:e("#email").val(),first_name:e("#first_name").val(),last_name:e("#last_name").val(),mobile:e("#mobile").val(),oid:e("#oid").val(),retURL:e("#retURL").val(),recordType:e("#recordType").val(),HasOptedOutOfEmail:e("#HasOptedOutOfEmail").val(),"00N2v00000V1WQS":e("#00N2v00000V1WQS").val(),"00N2v00000V1WQX":e("#00N2v00000V1WQX").val(),lead_source:e("#lead_source").val()}};e.ajax({type:"POST",url:site_params.ajaxurl,data:i,cache:!1,success:function(t){return console.log("success",t),0===t?(e("#first_name").val(""),e("#last_name").val(""),e("#mobile").val(""),e("#email").val(""),a.addClass("invalid").append('<span class="msg">An error occured. Please try again</span>')):a.addClass("success").append("<span class='msg'>Thank you for subscribing.</span>"),!1},error:function(e){return console.log("error",e),!1}})}),e("#email").on("focus",function(){e("#sf-subscribe-form").removeClass("invalid").children(".msg").remove()}),e("#see-all-reviews").click(function(){e(".bc-product-review-list").addClass("display-all"),e("html, body").animate({scrollTop:e(".bc-product-review-list").offset().top-e("#page").children("header").height()})}),e("[data-js='bc-product-review-write']").click(function(){e("html, body").animate({scrollTop:e(".bc-product-review-form-custom").offset().top-e("#page").children("header").height()})}),0<e(".facetwp-facet-price").length){var n=["Less than $30","$30 to $60","$60 to $100","More than $100"],s=[],o=!1;new t(function(t,a){var i=!0,r=!1,c=void 0;try{for(var l,d=t[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var u=l.value;"childList"===u.type&&""!==u.target.innerText&&function(){var t=0;e(".facetwp-facet-price div").each(function(){var a=e(this)[0].innerText,i=n.indexOf(a);i<t&&(o=!0),s[t=i]=e(this)}),o&&(e(".facetwp-facet-price").html(s),o=!1)}()}}catch(t){r=!0,c=t}finally{try{i||null==d.return||d.return()}finally{if(r)throw c}}}).observe(e(".facetwp-facet-price")[0],{attributes:!0,childList:!0,subtree:!0}),e(".facetwp-facet div").on("click",function(){0<e(this).parent().find(".facetwp-radio.checked").length&&e(this).parent().prev().find("input[type=radio]").removeAttr("checked")})}e("body").on("click",".bc-ajax-add-to-cart__message-wrapper",function(t){e(t.target).fadeOut(function(){e(this).remove()})}),e(".bc-product__price--base").attrchange(function(t){"class"===t&&e(this).hasClass("bc-show-current-price")&&e(this).text()!==e(this).parent().children(".bc-product__price--cgOrig").text()&&e(this).parent().children(".bc-product__price--cgOrig").addClass("show bc-product__original-price")}),e(".bc-cart .bc-cart-subtotal__amount").bind("DOMSubtreeModified",function(){location.reload()})}(jQuery);